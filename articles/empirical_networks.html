<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Empirical Networks • NEXTNetR</title>
<!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Empirical Networks">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">NEXTNetR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/NEXTNetR.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/custom_time_distributions_cpp.html">Custom time distributions (using C++)</a></li>
    <li><a class="dropdown-item" href="../articles/custom_time_distributions_r.html">Custom time distributions (using pure R)</a></li>
    <li><a class="dropdown-item" href="../articles/empirical_networks.html">Empirical Networks</a></li>
    <li><a class="dropdown-item" href="../articles/spatial_temporal_networks.html">Spatial and Temporal Networks</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/oist/NEXTNetR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Empirical Networks</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/oist/NEXTNetR/blob/master/vignettes/empirical_networks.Rmd" class="external-link"><code>vignettes/empirical_networks.Rmd</code></a></small>
      <div class="d-none name"><code>empirical_networks.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="loading-the-nextnetr-package">Loading the NEXTNetR package<a class="anchor" aria-label="anchor" href="#loading-the-nextnetr-package"></a>
</h2>
<p>We start with loading the <a href="https://oist.github.io/NEXTNetR/">NEXTNetR</a> package. If the
package is not already installed, see the <a href="https://oist.github.io/NEXTNetR/">website</a> for installation
instructions. We also load the <a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a> and
<a href="https://rpkgs.datanovia.com/ggpubr/" class="external-link">ggpubr</a> packages for plotting and set a nice theme.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://oist.github.io/NEXTNetR/">NEXTNetR</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rpkgs.datanovia.com/ggpubr/" class="external-link">ggpubr</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme_get.html" class="external-link">theme_set</a></span><span class="op">(</span><span class="fu"><a href="https://rpkgs.datanovia.com/ggpubr/reference/theme_pubr.html" class="external-link">theme_pubr</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="defining-networks">Defining networks<a class="anchor" aria-label="anchor" href="#defining-networks"></a>
</h2>
<p>To create arbitrary, user-defined networks defined by adjacency
lists, <a href="https://oist.github.io/NEXTNetR/">NEXTNetR</a> provides
<code><a href="../reference/adjacencylist_network.html">adjacencylist_network()</a></code> and
<code><a href="../reference/adjacencylist_weightednetwork.html">adjacencylist_weightednetwork()</a></code>. We first use
<code><a href="../reference/adjacencylist_network.html">adjacencylist_network()</a></code> to create an undirected network in
which nodes 1, 2, 3, 4 form a clique (i.e. each node is linked to all
others) but node 5 is linked only to nodes 1 and 2 and node 6 only to
nodes 3 and 4.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">nw</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/adjacencylist_network.html">adjacencylist_network</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span>, <span class="co"># neighbours of node 1</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span>, <span class="co"># neighbours of node 2</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">6</span><span class="op">)</span>, <span class="co"># neighbours of node 3</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">6</span><span class="op">)</span>, <span class="co"># neighbours of node 4</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>,       <span class="co"># neighbours of node 5</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span>        <span class="co"># neighbours of node 6</span></span>
<span><span class="op">)</span>, is_undirected<span class="op">=</span><span class="cn">TRUE</span>, above_diagonal<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>Note that since our network is undirected, the adjacency list we
specified is redundant – since the network is undirected, a link from
node <span class="math inline">\(i\)</span> to <span class="math inline">\(j\)</span> necessarily entails a link from <span class="math inline">\(j\)</span> back to <span class="math inline">\(i\)</span>. Setting
<code>above_diagonal=FALSE</code> signalled to
<code><a href="../reference/adjacencylist_network.html">adjacencylist_network()</a></code> that we explicitly list these
redundant links. The same network can be define more succintly by only
explicitly listing links from node <span class="math inline">\(i\)</span> to <span class="math inline">\(j\)</span> if <span class="math inline">\(i \leq
j\)</span>, and leaving it to <code><a href="../reference/adjacencylist_network.html">adjacencylist_network()</a></code> to
add the reverse links, linke so:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">nw2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/adjacencylist_network.html">adjacencylist_network</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span>, </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">6</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6</span><span class="op">)</span>, </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">)</span>     </span>
<span><span class="op">)</span>, is_undirected<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>To confirm that the implicitly defined links were indeed added, we
check the neighbours of node 4</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="../reference/network_properties.html">network_neighbour</a></span><span class="op">(</span><span class="va">nw</span>, <span class="fl">4</span>, <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="../reference/network_properties.html">network_outdegree</a></span><span class="op">(</span><span class="va">nw</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1 2 3 6</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="../reference/network_properties.html">network_neighbour</a></span><span class="op">(</span><span class="va">nw2</span>, <span class="fl">4</span>, <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="../reference/network_properties.html">network_outdegree</a></span><span class="op">(</span><span class="va">nw2</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1 2 3 6</span></span></code></pre></div>
<p>and see that both networks list nodes 1, 2, 3 and 6 as expected as
neighbours of node 4. We can also query the full adjacency lists of
these networks with <code><a href="../reference/network_properties.html">network_adjacencylist()</a></code></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="../reference/network_properties.html">network_adjacencylist</a></span><span class="op">(</span><span class="va">nw</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [1] 2 3 4 5</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; [1] 3 4 5</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]</span></span>
<span><span class="co">#&gt; [1] 4 6</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[4]]</span></span>
<span><span class="co">#&gt; [1] 6</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[5]]</span></span>
<span><span class="co">#&gt; integer(0)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[6]]</span></span>
<span><span class="co">#&gt; integer(0)</span></span></code></pre></div>
<p>Note that <code><a href="../reference/network_properties.html">network_adjacencylist()</a></code> by default also omit
redundant links in the case of undirected networks, i.e. skips links
from node <span class="math inline">\(i\)</span> to <span class="math inline">\(j\)</span> if <span class="math inline">\(i &gt;
j\)</span>. To include all neighbours for all nodes, set
<code>above_diagonal=FALSE</code>.</p>
<p><code><a href="../reference/network_properties.html">network_adjacencylist()</a></code> works for all networks, no
matter how they were originally defined. We can thus use this function
to query the adjacency list of synthetic networks, for example for an
Erdős–Rényi network</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="../reference/network_properties.html">network_adjacencylist</a></span><span class="op">(</span><span class="fu"><a href="../reference/erdos_renyi_network.html">erdos_renyi_network</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">2.5</span><span class="op">)</span>, above_diagonal<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [1] 2 3 5</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; [1] 1 4 5</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]</span></span>
<span><span class="co">#&gt; [1] 1 4</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[4]]</span></span>
<span><span class="co">#&gt; [1] 2 3</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[5]]</span></span>
<span><span class="co">#&gt; [1] 1 2</span></span></code></pre></div>
<p>This makes it possible to modify synthetic networks. For example, we
can merge an Erdős–Rényi with a Barabási–Albert network</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">N</span> <span class="op">&lt;-</span> <span class="fl">100</span></span>
<span><span class="va">k</span> <span class="op">&lt;-</span> <span class="fl">10</span></span>
<span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fl">5</span></span>
<span><span class="va">al_er</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/network_properties.html">network_adjacencylist</a></span><span class="op">(</span><span class="fu"><a href="../reference/erdos_renyi_network.html">erdos_renyi_network</a></span><span class="op">(</span><span class="va">N</span>, <span class="va">k</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">al_ba</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/network_properties.html">network_adjacencylist</a></span><span class="op">(</span><span class="fu"><a href="../reference/barabasialbert_network.html">barabasialbert_network</a></span><span class="op">(</span><span class="va">N</span>, <span class="va">m</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">al_merged</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mapply.html" class="external-link">mapply</a></span><span class="op">(</span>FUN<span class="op">=</span><span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">x</span>,<span class="va">y</span><span class="op">)</span><span class="op">)</span>, <span class="va">al_er</span>, <span class="va">al_ba</span><span class="op">)</span></span>
<span><span class="va">nw_merged</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/adjacencylist_network.html">adjacencylist_network</a></span><span class="op">(</span><span class="va">al_merged</span><span class="op">)</span></span></code></pre></div>
<p>The resulting degree distribution is neither that of an Erdős–Rényi
network (blue) nor that of a Barabási–Albert (green)</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>degree<span class="op">=</span><span class="fu"><a href="../reference/network_properties.html">network_outdegree</a></span><span class="op">(</span><span class="va">nw_merged</span>, <span class="fl">1</span><span class="op">:</span><span class="va">N</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html" class="external-link">geom_histogram</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">degree</span>, y<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes_eval.html" class="external-link">after_stat</a></span><span class="op">(</span><span class="va">count</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                 binwidth<span class="op">=</span><span class="fl">5</span>, fill<span class="op">=</span><span class="st">'darkgrey'</span>, color<span class="op">=</span><span class="cn">NA</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_function.html" class="external-link">geom_function</a></span><span class="op">(</span>fun<span class="op">=</span><span class="kw">function</span><span class="op">(</span><span class="va">n</span><span class="op">)</span> <span class="fl">5</span> <span class="op">*</span> <span class="va">N</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html" class="external-link">dpois</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span>, <span class="va">k</span><span class="op">)</span>,</span>
<span>                n<span class="op">=</span><span class="fl">1000</span>, color<span class="op">=</span><span class="st">'blue'</span>, linetype<span class="op">=</span><span class="st">"dashed"</span>, linewidth<span class="op">=</span><span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_function.html" class="external-link">geom_function</a></span><span class="op">(</span>fun<span class="op">=</span><span class="kw">function</span><span class="op">(</span><span class="va">n</span><span class="op">)</span> <span class="fl">5</span> <span class="op">*</span> <span class="va">N</span> <span class="op">*</span> <span class="fl">2</span><span class="op">*</span><span class="va">m</span><span class="op">*</span><span class="op">(</span><span class="va">m</span><span class="op">+</span><span class="fl">1</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="va">n</span><span class="op">*</span><span class="op">(</span><span class="va">n</span><span class="op">+</span><span class="fl">1</span><span class="op">)</span><span class="op">*</span><span class="op">(</span><span class="va">n</span><span class="op">+</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                n<span class="op">=</span><span class="fl">1000</span>, color<span class="op">=</span><span class="st">'green'</span>, linetype<span class="op">=</span><span class="st">"dashed"</span>, linewidth<span class="op">=</span><span class="fl">0.5</span><span class="op">)</span> </span></code></pre></div>
<p><img src="empirical_networks_files/figure-html/plot_degrees-1.png" width="700"></p>
<div class="section level3">
<h3 id="weighted-networks">Weighted networks<a class="anchor" aria-label="anchor" href="#weighted-networks"></a>
</h3>
<p>To define a weighted network, the adjacency list must contain a list
of weights for every list of neighbours. Instead of a list of vectors,
we therefore now pass a list of lists to
<code><a href="../reference/adjacencylist_weightednetwork.html">adjacencylist_weightednetwork()</a></code>, which each contain two
vectors names <code>n</code> for the neighbours and <code>w</code> for
the weights.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wnw</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/adjacencylist_weightednetwork.html">adjacencylist_weightednetwork</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>n<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span>, w<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.5</span>, <span class="fl">2</span>,  <span class="fl">2.5</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span>, </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>n<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span>,    w<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2.5</span>, <span class="fl">3</span>,  <span class="fl">3.5</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>n<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">6</span><span class="op">)</span>,       w<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3.5</span>, <span class="fl">4.5</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>n<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6</span><span class="op">)</span>,          w<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span><span class="op">)</span>, </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>n<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">)</span>, w<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>n<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">)</span>, w<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>     </span>
<span><span class="op">)</span>, is_undirected<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>We can now query not only the neighbours of node 4, but also the
weights of the corresponding links</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="../reference/network_properties.html">network_neighbour_weight</a></span><span class="op">(</span><span class="va">wnw</span>, <span class="fl">4</span>, <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="../reference/network_properties.html">network_outdegree</a></span><span class="op">(</span><span class="va">wnw</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; $n</span></span>
<span><span class="co">#&gt; [1] 1 2 3 6</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $w</span></span>
<span><span class="co">#&gt; [1] 2.5 3.0 3.5 5.0</span></span></code></pre></div>
<p>To query the adjacencylist of weighted networks (no matter how they
were created), we can use
<code><a href="../reference/network_properties.html">weighted_network_adjacencylist()</a></code></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="../reference/network_properties.html">weighted_network_adjacencylist</a></span><span class="op">(</span><span class="va">wnw</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [[1]]$n</span></span>
<span><span class="co">#&gt; [1] 2 3 4 5</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$w</span></span>
<span><span class="co">#&gt; [1] 1.5 2.0 2.5 3.0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; [[2]]$n</span></span>
<span><span class="co">#&gt; [1] 3 4 5</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]$w</span></span>
<span><span class="co">#&gt; [1] 2.5 3.0 3.5</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]</span></span>
<span><span class="co">#&gt; [[3]]$n</span></span>
<span><span class="co">#&gt; [1] 4 6</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]$w</span></span>
<span><span class="co">#&gt; [1] 3.5 4.5</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[4]]</span></span>
<span><span class="co">#&gt; [[4]]$n</span></span>
<span><span class="co">#&gt; [1] 6</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[4]]$w</span></span>
<span><span class="co">#&gt; [1] 5</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[5]]</span></span>
<span><span class="co">#&gt; [[5]]$n</span></span>
<span><span class="co">#&gt; integer(0)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[5]]$w</span></span>
<span><span class="co">#&gt; numeric(0)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[6]]</span></span>
<span><span class="co">#&gt; [[6]]$n</span></span>
<span><span class="co">#&gt; integer(0)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[6]]$w</span></span>
<span><span class="co">#&gt; numeric(0)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="loading-networks-from-files">Loading networks from files<a class="anchor" aria-label="anchor" href="#loading-networks-from-files"></a>
</h3>
<p>The functions <code><a href="../reference/empirical_network.html">empirical_network()</a></code> and
<code><a href="../reference/empirical_weightednetwork.html">empirical_weightednetwork()</a></code> allow networks to be read from
files. For unweighted networks, file have the following format</p>
<pre class="text"><code># network.nw
# Files may contains comment lines beginning with '#',
# and an optional header line beginning with non-numeric text
node neighbours ....
# After the optional header, each line starts with a node and lists its
# neighbours, separated by whitespace. The following line thus adds
# links 1 -&gt; 2, 1 -&gt; 3, 1 -&gt; 4, 1-&gt; 5. For undirected networks,
# the reversed edges are added as well.
1 2 3 4 5
# The neighbours of a single node can be split over multiple, possibly
# non-consecutive lines. Here, we add 2 -&gt; 4 and 2 -&gt; 3, 2 -&gt; 5.
2 4
2 3 5
3 4 5
4 6
# Nodes may be skipped, the largest node index defines the network size
6</code></pre>
<p>and are read with</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">nw3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/empirical_network.html">empirical_network</a></span><span class="op">(</span>path<span class="op">=</span><span class="st">"network.nw"</span><span class="op">)</span></span></code></pre></div>
<p>This yields the same network as <code>nw</code> and <code>nw2</code>
defined above. The separator is whitespace by default but can be changed
to something else, see <code><a href="../reference/empirical_network.html">help(empirical_network)</a></code>. If
<code>gzip</code> is installed, gzip-compressed files with extension
<code>.gz</code> are supported and piped through <code>gzip</code> to
read them.</p>
<p>Weighted networks are supported by
<code>empirical_weightednetwork</code>, and have the format</p>
<pre class="text"><code># weighted_network.nw
# Comment and header work like for unweighted networks
# Weightes are specified after each neighbour, separated by a colon (:)
1 2:1.5 3:2 4:2.5 5:3
2 3:2.5 4:3 5:3.5
3 4:3.5 6:4.5
# Weights are summed over all occurences of a specific link
4 6:3
6 4:2
6</code></pre>
<p>To read this file, which defines the same weighted network as
<code>wnw</code> above, we do</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wnw3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/empirical_weightednetwork.html">empirical_weightednetwork</a></span><span class="op">(</span>path<span class="op">=</span><span class="st">"weighted_network.nw"</span><span class="op">)</span></span></code></pre></div>
<p>Again, gzip-compressed files are supported if <code>gzip</code> is
installed, and the separators between neighbour-weight pairs and between
neighbours and weights can be specified, see
<code><a href="../reference/empirical_weightednetwork.html">help(empirical_weightednetwork)</a></code>. Note that in the example
above, link <span class="math inline">\((4,6)\)</span> now weight <span class="math inline">\(5\)</span> since the weights of the two
occurrences of that link are summed</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/network_properties.html">network_neighbour_weight</a></span><span class="op">(</span><span class="va">wnw3</span>, <span class="fl">4</span>, <span class="fl">4</span><span class="op">)</span></span>
<span><span class="co">#&gt; $n</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $w</span></span>
<span><span class="co">#&gt; [1] 2.5</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="packaged-empirical-networks">Packaged empirical networks<a class="anchor" aria-label="anchor" href="#packaged-empirical-networks"></a>
</h2>
<p><code><a href="../reference/empirical_network.html">empirical_network()</a></code> can download packaged networks
directly from the <a href="https://github.com/oist/NEXTNet-EmpiricalNetworks" class="external-link">NEXTNet-EmpiricalNetworks</a>
repository, which contains a selection of empirical networks from the
SNAP (Leskovec and Krevl, <a href="http://snap.stanford.edu/data" class="external-link">2014</a>), ICON (Clauset <em>et
al.</em>, <a href="https://icon.colorado.edu/" class="external-link">2016</a>) and KONECT
(Kunegis, <a href="https://doi.org/10.1145/2487788.2488173" class="external-link">2013</a>)
databases.</p>
<p>We can download and import the “gowalla” network found in the SNAP
database with</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gowalla_nw</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/empirical_network.html">empirical_network</a></span><span class="op">(</span>name<span class="op">=</span><span class="st">'gowalla'</span><span class="op">)</span></span>
<span><span class="co">#&gt; Downloading gowalla.gz to ~/.cache/NEXTNetR-EmpiricalNetworks/undirected</span></span></code></pre></div>
<p>and plot its degree distribution in a double-logarithmic plot</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>degree<span class="op">=</span><span class="fu"><a href="../reference/network_properties.html">network_outdegree</a></span><span class="op">(</span><span class="va">gowalla_nw</span>, <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="../reference/network_properties.html">network_size</a></span><span class="op">(</span><span class="va">gowalla_nw</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_density.html" class="external-link">geom_density</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">degree</span>, y<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes_eval.html" class="external-link">after_stat</a></span><span class="op">(</span><span class="va">count</span><span class="op">)</span><span class="op">)</span>, bw<span class="op">=</span><span class="fl">0.15</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_log10</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_log10</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="empirical_networks_files/figure-html/plot_degrees_pin-1.png" width="700"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Florian Pflug, Samuel Cure.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
